<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="logic.Bus" table="busses">
		<!-- Параметр column указывает на какую колонку в таблице будет ссылаться 
			поле id нашего объекта, Параметр id - название поля объекта, см. выше -->
		<id column="bus_id" name="id" type="java.lang.Long">
			<generator class="increment" />
		</id>
		<property column="number" name="number" type="java.lang.String" />

		<!-- Связываем поле объекта "drivers" с таблицей "busDriver"... -->
		<set name="drivers" table="busDriver" lazy="false">
			<!--Тег key имеет параметр column, который говорит, на какую колонку в 
				таблице связи "busDriver" будет ссылаться поле нашего объекта -->
			<!-- В этом случае в таблице "busDriver" ключевым столбцом для поиска 
				водителей будет стобец bus_id -->
			<key column="bus_id" />

			<!-- тег "many-to-many" имеет параметр column — имя колонки второй колонки 
				в таблице связи и параметр class, указывающий какого класса будут объеты 
				на той стороне. -->
			<!-- В этом случае из таблицы "busDriver" мы хотим получить содержимое 
				столбца driver_id -->
			<many-to-many column="driver_id" class="logic.Driver" />
		</set>

	</class>
</hibernate-mapping>